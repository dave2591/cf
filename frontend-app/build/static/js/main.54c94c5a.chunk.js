(this.webpackJsonpcurrencyfair=this.webpackJsonpcurrencyfair||[]).push([[0],{18:function(e,t,n){e.exports=n(45)},23:function(e,t,n){},24:function(e,t,n){},25:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(17),i=n.n(r),s=function(){return c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"logo"},c.a.createElement("img",{alt:"Currency Fair Logo",src:"logo.png"})))},l=function(e){return c.a.createElement("div",{className:"container"},c.a.createElement(s,null),c.a.createElement("section",{className:"main"},e.children))},o=n(2),u=n(3),m=n(5),f=n(4),d=n(6),h=function(e){var t=e.transaction;return c.a.createElement("div",{className:"transaction-item"},c.a.createElement("div",{className:"currencies"},c.a.createElement("span",null,t.currency_to)," / ",c.a.createElement("span",null,t.currency_from)),c.a.createElement("div",{className:"amounts"},"Buy ",c.a.createElement("span",null,t.amount_buy)," / Sell ",c.a.createElement("span",null,t.amount_sell),c.a.createElement("div",{className:"rate"},"Rate: ",t.rate)),c.a.createElement("div",{className:"country"},t.originating_country))},v=(n(23),n(24),function(e){return c.a.createElement("div",{className:"placeholder"},e.title)}),p=(n(25),function(e){return c.a.createElement("div",{className:"transaction-charts"},c.a.createElement("div",{className:"chart"},c.a.createElement("div",{className:"title"},"Total Transactions"),e.transactions.length),c.a.createElement("div",{className:"chart"},c.a.createElement("div",{className:"title"},"Average Sell Value"),function(){var t=e.transactions.map((function(e){return e.amount_sell})),n=t.reduce((function(e,t){return e+t}),0)/t.length;return isNaN(n)?"-":Math.round(100*n)/100}()))}),E=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(m.a)(this,Object(f.a)(t).call(this,e))).fetchTimer=void 0,n.state={loading:!0,error:!1,transactions:[]},n}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.fetchTimer=window.setInterval((function(){return e.fetchItems()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.fetchTimer)}},{key:"fetchItems",value:function(){var e=this;this.props.client.find(this.state.lastId).then((function(t){var n=t.data.data;e.setState({loading:!0,transactions:n,lastId:n.length?n[0].id:null})}),(function(t){e.setState({error:!0})}))}},{key:"render",value:function(){var e=this.state.transactions;return c.a.createElement(c.a.Fragment,null,c.a.createElement(p,{transactions:this.state.transactions}),c.a.createElement("div",{className:"transactions"},!e.length&&c.a.createElement(v,{title:"Waiting for transactions..."}),e&&Object.keys(e).map((function(t){return c.a.createElement(h,{key:e[t].id,transaction:e[t]})}))))}}]),t}(c.a.Component),g=n(7),y=n.n(g),N="http://127.0.0.1:2591/api",b=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"findByDateRange",value:function(e){return this.get("/transactions/?date_from".concat(e))}},{key:"find",value:function(e){return this.get("/transactions"+(e?"?cursor="+e:""))}}]),t}(function(){function e(){Object(o.a)(this,e)}return Object(u.a)(e,[{key:"post",value:function(t,n){return y.a.post("".concat(N).concat(t),n,e.config)}},{key:"put",value:function(t,n){return y.a.put("".concat(N).concat(t),n,e.config)}},{key:"get",value:function(t){return y.a.get("".concat(N).concat(t),e.config)}}],[{key:"config",get:function(){return{headers:{"content-type":"application/json",accept:"application/json"}}}}]),e}()),j=function(){return c.a.createElement(l,null,c.a.createElement(E,{client:new b}))};n(44);i.a.render(c.a.createElement(j,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.54c94c5a.chunk.js.map